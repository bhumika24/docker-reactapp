steps:
  # Step 1: Authenticate with Docker Hub
  - name: 'gcr.io/cloud-builders/docker'
    entrypoint: 'bash'
    args:
      - '-c'
      - |
        echo "$$DOCKERHUB_PASSWORD" | docker login -u "$$DOCKERHUB_USERNAME" --password-stdin

  # Step 2: Pull the private Docker image from Docker Hub
  - name: 'gcr.io/cloud-builders/docker'
    args: ['pull', 'docker.io/mukeshravi/datahub_images:fe_image_latest']

secrets:
  # Secret environment variables
  - secretEnv:
      DOCKERHUB_USERNAME: projects/ardent-iris-389305/secrets/docker-username/versions/1
      DOCKERHUB_PASSWORD: projects/ardent-iris-389305/secrets/docker-password/versions/1

options:
  logging: NONE


